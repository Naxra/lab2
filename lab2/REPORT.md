#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

## студент: Храпова Н.С.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В.     |              |               |
| Левинская М.А.    |              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Для решении логических задач используются разные методы перебора: метод порождения и проверок и метод ветвей и границ. 
Суть первого метода: некоторый предикат генерирует множество исходных данных, которые затем проверяются другими предикатами на предмет соответствия условию задачи. В случае несоответствия происходит возврат и рассмотрение следующего решения, в случае успеха полученное решение возвращается пользователю или используется в дальнейших вычислениях. 
Суть второго метода: значительные части возможных решений отсекаются на раннем этапе выполнения или вообще не генерируются и не рассматриваются. Его можно противопоставить первому методу, также он является более эффективным.
Пролог относится к логическим языкам программирования, поэтому он хорошо подходит для решения логических задач, где рассматриваются объекты и отношения между ними. Пролог использует логику предикатов, поэтому условия подобных этой задач всегда можно записать в виде логических утверждений, что позволяет рассмотреть много вариантов решения задачи и выбрать из них правильные. 

## Задание

14. В педагогическом институте Аркадьева, Бабанова, Корсакова, Дашков, Ильин и Флеров преподают географию, английский язык, французский язык, немецкий язык, историю и математику. Преподаватель немецкого языка и преподаватель математики в студенческие годы занимались художественной гимнастикой. Ильин старше Флерова, но стаж работы у него меньше, чем у преподавателя географии. Будучи студентками, Аркадьева и Бабанова учились вместе в одном университете. Все остальные окончили педагогический институт. Флеров отец преподавателя французского языка. Преподаватель английского языка самый старший из всех и по возрасту и по стажу. Он работает в этом институте с тех пор, как окончил его. Преподаватели математики и истории его бывшие студенты. Аркадьева старше преподавателя немецкого языка. Кто какой предмет преподает?

## Принцип решения

Каждый преподаватель преподаёт один из 6 предметов (всего 6!=720 вариантов), также у каждого из них есть пол (м/ж) и образование (университет/институт), которые однозначно извлекаются из условия задачи.

В предикате generate составляем список учителей (каждый учитель состоит из параметров ("Фамилия", "предмет", пол, образование). Все, кроме предмета, фиксированные) и используем предикат перестановок, получая все варианты соответствия предметов учителям.

В предикате solve записываем все утверждения, указанные в условии. Большинство из них проверяются при помощи стандартного предиката member, например утверждение "Преподаватель немецкого языка и преподаватель математики занимались художественной гимнастикой" равнозначно тому, что учителя с параметрами "german"/"math" и f находятся в списке.
```prolog
member(teacher(_, "german", f, _), List),
member(teacher(_, "math", f, _), List),
```
"Преподаватель английского работает в институте с тех пор, как окончил его":
```prolog
member(teacher(_, "english", _, ins), List),
```
Сравнение возраста или стажа преподавателей проверяется в предикате greater, а данные из условия, такие как "Аркадьева старше преподавателя немецкого языка", отражены в предикате greater0.
```prolog
greater0(_, teacher(_, "english", _, _), _):- !.
greater0(age, teacher("Ilyin", _, _, _), teacher("Flerov", _, _, _)):- !.
greater0(age, teacher("Flerov", _, _, _), teacher(_, "french", _, _)):- !.
greater0(age, teacher("Arkadieva", _, _, _), teacher(_, "german", _, _)).
greater0(exp, teacher(_, "geography", _, _), teacher("Ilyin", _, _, _)).

greater(Parameter, Teacher1, Teacher2):-
	not(Teacher1 == Teacher2),
	greater0(Parameter, Teacher1, Teacher2),
	not(greater0(Parameter, Teacher2, Teacher1)).
```
Пример: "Флеров - отец преподавателя французского языка". Значит, флеров не является преподавателем французского и точно старше него.
```prolog
member(FreT, List), FreT = teacher(_, "french", _, _),
greater(age, Flerov, FreT),
```

В предикате whoIsWho используются описанные выше generate и solve. Создаются все варианты списков учителей, после чего к ним применяются все условия задачи. Результатом является одно истинное решение.

Результат работы:
```prolog
?- whoIsWho(List).
List = [teacher("Arkadieva", "french", f, uni), teacher("Babanova", "german", f, uni), teacher("Korsakova", "math", f, ins), teacher("Dashkov", "english", m, ins), teacher("Ilyin", "history", m, ins), teacher("Flerov", "geography", m, ins)] ;
false.
```
Аркадьева - французский, Бабанова - немецкий, Корсакова - математика, Дашков - английский, Ильин - история, Флеров - география.

## Выводы
